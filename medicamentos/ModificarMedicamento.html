<script>
    function actualizarMedicamentos() {
        var datos = {
            nombre: $("#nombre_med").val(),
            codigoDeBarras: $("#codigo_med").val(),
            dosis: $("#dosis").val(),
            precio: $("#precio_med").val(),
            estatus: $("#estatus_med").val(),
        }
        console.log(datos);
        $.ajax({
            url: backend + "medicamento/actualizar",
            type: 'post',
            datatype: 'json',
            data: JSON.stringify(datos),
            contentType: 'application/json',
            xhrFields: {withCredentials: true},
            success: function (respuesta) {
                console.log(respuesta);
                alert(respuesta);
            }
        });
    }
</script>
<div class="modal-header">
    <h1 class="modal-title fs-5" id="exampleModalLabel">Modificar Medicamento</h1>
    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" onclick="$('#divListado').load('medicamentos/listaMedicamentosFiltrados.html')"></button>

</div>
<div class="modal-body">
    <form>
        <fieldset>
            <legend class="text-center">Medicamentos</legend>
            <input type="number" id="codigo_med" hidden>
            <div class="form-group">
                <label for="dosis" class="form-label mt-4">Dosis:</label>
                <input type="number" class="form-control" id="dosis" placeholder="Dosis correspondiente"
                       autocomplete="off">
            </div>
            <div class="form-group">
                <label for="nombre_med" class="form-label mt-4">Nombre del medicamento:</label>
                <input type="text" class="form-control" id="nombre_med"
                       placeholder="Escribe el nombre del medicamento" autocomplete="off">
            </div>
            <div class="form-group">
                <label for="precio_med" class="form-label mt-4">Precio del medicamento:</label>
                <input type="number" class="form-control" id="precio_med"
                       placeholder="Escribe el precio del medicamento" step="any"
                       title="Solo se permiten nÃºmeros decimales con dos cifras decimales">
            </div>
            <div class="form-group">
                <label for="estatus" class="form-label mt-4">Estatus:</label>
                <select class="form-control" id="estatus">
                    <option value="true">Activo</option>
                    <option value="false">Inactivo</option>
                </select>
            </div>

            <div class="form-group">
                <button type="button" class="btn btn-primary btn-block mt-4" onclick="actualizarMedicamentos();"
                        data-toggle="button" aria-pressed="false">Guardar
                </button>
            </div>

        </fieldset>
    </form>
</div>
<div class="modal-footer">
    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" onclick="$('#divListado').load('medicamentos/listaMedicamentosFiltrados.html')">Cerrar
    </button>
</div>